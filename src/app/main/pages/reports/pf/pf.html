<div  class="page-layout simple fullwidth doc-page reports" layout="column">

    <!-- HEADER -->
    <div class="header md-accent-bg" layout="row" layout-align="space-between" id = "headerDiv">
        <div layout="column" layout-align="space-between">
            <div class="breadcrumb" layout="row" layout-align="start center">
                <md-icon md-font-icon="icon-home" class="s16"></md-icon>
                <md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
                <span class="parent">Reports</span>
            </div>

            <div class="headerTitle">Power Factor</div>
        </div>
    </div>
    <!-- / HEADER -->
    <!-- CONTENT -->
    <div class="content" layout="column">

        <div layout="row">
          <div class="form-wrapper md-whiteframe-1dp lp" flex="100" >
            <div class="pf-tab">
              <div class="top-block">
                <div layout="row" class="hierarchy-align">
                  <!-- <div class="hierarchy-align">

                  </div> -->
                  <div flex="10">
                      <p class="label-font">SubStation:</p>
                  </div>
                  <md-input-container flex="15">
                      <md-select ng-change="vm.getFeeder()" ng-model="vm.powerFactor.substationid" class="md-underline">
                          <!-- <md-progress-circular md-mode="indeterminate" ng-show = "model.showProgress"></md-progress-circular> -->
                          <md-option ng-repeat="x in vm.substations"  value="{{x.substationId}}">{{x.substation}}</md-option>
                      </md-select>
                  </md-input-container>
                  <div flex="5"></div>
                  <div flex="5">
                      <p class="label-font">Feeder:</p>
                  </div>
                  <md-input-container flex="15" >
                      <md-select ng-change="vm.getDtr()" ng-model="vm.powerFactor.feederid" class="md-underline">
                          <!-- <md-progress-circular md-mode="indeterminate" ng-show = "model.showProgress"></md-progress-circular> -->
                          <md-option ng-repeat="x in vm.feeders"  value="{{x.feederId}}">{{x.feeder}}</md-option>
                      </md-select>
                  </md-input-container>
                  <div flex="5"></div>
                  <div flex="5">
                      <p class="label-font">DTR:</p>
                  </div>
                  <md-input-container flex="15" >
                      <md-select ng-change="vm.getDtr()" ng-model="vm.powerFactor.dtrId" class="md-underline">
                          <!-- <md-progress-circular md-mode="indeterminate" ng-show = "model.showProgress"></md-progress-circular> -->
                          <md-option ng-repeat="x in vm.feeders"  value="{{x.feederId}}">{{x.feeder}}</md-option>
                      </md-select>
                  </md-input-container>
                  <div flex="5"></div>
                  <div flex="5">
                      <p class="label-font">Meter:</p>
                  </div>
                  <md-autocomplete   ng-model="vm.selectedItem"

                     md-selected-item="vm.selectedItem"
                     md-search-text-change="vm.searchTextChange(vm.searchText)"
                     md-search-text="vm.searchText"
                     md-selected-item-change="vm.getMeter(vm.selectedItem)"

                     md-items="item in vm.dtrs | filter:vm.searchText"
                     md-item-text="item.dtr"
                     md-min-length="0"
                     placeholder="Enter dtr"
                     ng-required="true">

                     <md-item-template>
                       <span md-highlight-text="vm.searchText" md-highlight-flags="^i" > {{item.dtr}}</span>
                     </md-item-template>

                   </md-autocomplete>

                </div>
                <div layout="row">
                  <div class="lp-row">
                    <div class="view-dates">
                      <div class="f-date">
                        <p class="label-font">From Date :</p>
                        <md-datepicker ng-model="vm.powerFactor.fromDate" md-max-date="vm.maxDate"  md-min-date="vm.minDate" md-placeholder="enter date*" md-open-on-focus></md-datepicker>
                      </div>
                      <div class="t-date">
                        <p class="label-font">To Date :</p>
                        <md-datepicker ng-model="vm.powerFactor.toDate" md-max-date="vm.maxDate"  md-min-date="vm.minDate" md-placeholder="enter date*" md-open-on-focus></md-datepicker>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="btn-align">
                  <md-button type="submit"  class="md-raised md-accent" aria-label="Submit">Submit</md-button>
                </div>
              </div>

              <div class="data-block">
                <div layout="row">
                  <div class="main">
                    <span> <img src="assets/images/TSSPDCL.jpg" alt=""> </span>
                    <span> <p>Telangana State Southern Power Distribution Company Limited</p> </span>
                  </div>
                </div>
                <div layout="row">
                  <div class="details">
                    <p>Power Factor report for Dec-2016 to Dec-2017</p>
                    <p>
                      <span>SubStation : substation name</span>
                      <span>Feeder : Feeder name</span>
                      <span>DTR : DTR name</span>
                      <span>Meter : Meter No</span>
                    </p>
                  </div>
                </div>

                <div layout="row" flex="100" id="tableScroll">
                 <table class="dataTable row-border hover" datatable="ng" dt-options="vm.dtOptions" id="eventTable">
                   <thead>
                     <tr>
                       <th class="secondary-text">
                          <div class="table-header">
                              <span class="column-title">S.No</span>
                          </div>
                      </th>

                        <th class="secondary-text">
                          <div class="table-header">
                              <span class="column-title">Meter S No</span>
                          </div>
                        </th>
                        <th class="secondary-text">
                          <div class="table-header">
                              <span class="column-title">Beween 0.90 to 0.95</span>
                          </div>
                        </th>
                        <th class="secondary-text">
                          <div class="table-header">
                              <span class="column-title">Between 0.85 to 0.90</span>
                          </div>
                        </th>
                        <th class="secondary-text">
                          <div class="table-header">
                              <span class="column-title">Betwen 0.80 to 0.85</span>
                          </div>
                        </th>
                        <th class="secondary-text">
                          <div class="table-header">
                              <span class="column-title">Below 0.80</span>
                          </div>
                        </th>



                          </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="evnt in ::vm.evnt">
                          <td>{{evnt.a}}</td>
                          <td>{{evnt.b}}</td>
                          <td>{{evnt.c}}</td>
                          <td>{{evnt.d}}</td>
                          <td>{{evnt.e}}</td>
                          <td>{{evnt.f}}</td>
                        </tr>

                      </tbody>
                  </table>
                </div>

                <div layout="row" class="download-btn">
                  <a href="#"><span>PDF</span></a>
                  <a href="#"><span>Excel</span></a>
                  <a href="#"><span>CSV</span></a>
                </div>


              </div>

            </div>
          </div>
        </div>
    </div>
    <!-- / CONTENT -->
</div>
